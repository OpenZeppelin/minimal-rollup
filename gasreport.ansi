Compiling 3 files with Solc 0.8.28
Solc 0.8.28 finished in 372.10ms
Compiler run successful with warnings:
Warning (5667): Unused function parameter. Remove or comment out the variable name to silence this warning.
   --> src/protocol/taiko_alethia/ProverManager.sol:126:50:
    |
126 |     function payPublicationFee(address proposer, bool isDelayed) external payable {
    |                                                  ^^^^^^^^^^^^^^


Ran 1 test for test/taiko_alethia/DelayedInclusionStore.t.sol:StaggeredInclusionStateTest
[FAIL: EvmError: Revert] setUp() (gas: 0)
Suite result: FAILED. 0 passed; 1 failed; 0 skipped; finished in 29.63ms (0.00ns CPU time)

Ran 3 tests for test/taiko_alethia/DelayedInclusionStore.t.sol:BaseStateTest
[PASS] test_SetupState() (gas: 8311)
[FAIL: log != expected log] test_publishDelayed_OneInclusionOneBlob() (gas: 25874)
[FAIL: EvmError: Revert] test_publish_delayed_OneInclusionMultipleBlobs() (gas: 22490)
Suite result: FAILED. 1 passed; 2 failed; 0 skipped; finished in 29.80ms (21.74ms CPU time)

Ran 37 tests for test/ProverManager.t.sol:ProverManagerTest
[PASS] test_bid_ActivatesSuccessionDelay() (gas: 223258)
[PASS] test_bid_ActivePeriod() (gas: 229506)
[PASS] test_bid_ExistingNextPeriod() (gas: 338473)
[FAIL: next call did not revert as expected] test_bid_RevertWhen_FeeNotLowEnough() (gas: 208293)
[PASS] test_bid_RevertWhen_InsufficientBalance() (gas: 149283)
[FAIL: next call did not revert as expected] test_bid_RevertWhen_NotEnoughUndercutOnNextPeriod() (gas: 317169)
[PASS] test_claimProvingVacancy() (gas: 384066)
[PASS] test_claimProvingVacancy_AdvancesPeriod() (gas: 425654)
[PASS] test_claimProvingVacancy_RevertWhen_InsufficientBalance() (gas: 297578)
[PASS] test_claimProvingVacancy_RevertWhen_NoVacancy() (gas: 90838)
[PASS] test_deposit() (gas: 67396)
[PASS] test_evictProver() (gas: 236702)
[PASS] test_evictProver_RevertWhen_InvalidPublicationHeader() (gas: 114102)
[PASS] test_evictProver_RevertWhen_PeriodNotActive() (gas: 194076)
[PASS] test_evictProver_RevertWhen_ProvenCheckpoint() (gas: 199782)
[PASS] test_evictProver_RevertWhen_PublicationNotOldEnough() (gas: 114129)
[PASS] test_exit() (gas: 101033)
[PASS] test_exit_RevertWhen_AlreadyExited() (gas: 112664)
[PASS] test_exit_RevertWhen_NotCurrentProver() (gas: 37023)
[PASS] test_finalizePastPeriod_PastDeadline() (gas: 623929)
[PASS] test_finalizePastPeriod_RevertWhen_PublicationNotAfterPeriod() (gas: 331526)
[PASS] test_finalizePastPeriod_RevertWhen_PublicationNotProven() (gas: 330044)
[PASS] test_finalizePastPeriod_WithinDeadline() (gas: 590430)
[PASS] test_geCurrentFees_WhenPeriodEnded() (gas: 245764)
[PASS] test_getCurrentFees_SamePeriod() (gas: 17182)
[PASS] test_payPublicationFee_AdvancesPeriod() (gas: 191521)
[PASS] test_payPublicationFee_AllowsToSendEth() (gas: 77961)
[PASS] test_payPublicationFee_RevertWhen_NotInbox() (gas: 33170)
[PASS] test_payPublicationFee_SamePeriod() (gas: 105020)
[PASS] test_prove_ClosedPeriod() (gas: 427384)
[PASS] test_prove_ClosedPeriod_MultipleCalls() (gas: 736405)
[PASS] test_prove_OpenPeriod() (gas: 319540)
[PASS] test_prove_RevertWhen_FirstPublicationBeforePeriod() (gas: 268287)
[PASS] test_prove_RevertWhen_FirstPublicationNotAfterStartCheckpoint() (gas: 191034)
[PASS] test_prove_RevertWhen_LastPublicationAfterPeriodEnd() (gas: 260452)
[PASS] test_prove_RevertWhen_LastPublicationDoesNotMatchEndCheckpoint() (gas: 181543)
[PASS] test_withdraw() (gas: 105769)
Suite result: FAILED. 35 passed; 2 failed; 0 skipped; finished in 260.32ms (2.13s CPU time)

Ran 7 tests for test/CheckpointTracker.t.sol:CheckpointTrackerTest
[PASS] test_constructor_EmitsEvent() (gas: 955254)
[PASS] test_constructor_RevertWhenGenesisIsZero() (gas: 169706)
[PASS] test_proveTransition_RevertWhenEndCommitmentIsZero() (gas: 44880)
[PASS] test_proveTransition_RevertWhenEndPublicationNotAfterStart() (gas: 49883)
[PASS] test_proveTransition_RevertWhenStartCheckpointNotLatestProven() (gas: 47778)
[PASS] test_proveTransition_SuccessfulTransition() (gas: 97400)
[PASS] test_setUp() (gas: 15028)
Suite result: ok. 7 passed; 0 failed; 0 skipped; finished in 291.03ms (70.19ms CPU time)

╭--------------------------------------------------------+-----------------+------+--------+------+---------╮
| src/blobs/BlobRefRegistry.sol:BlobRefRegistry Contract |                 |      |        |      |         |
+===========================================================================================================+
| Deployment Cost                                        | Deployment Size |      |        |      |         |
|--------------------------------------------------------+-----------------+------+--------+------+---------|
| 468450                                                 | 1956            |      |        |      |         |
|--------------------------------------------------------+-----------------+------+--------+------+---------|
|                                                        |                 |      |        |      |         |
|--------------------------------------------------------+-----------------+------+--------+------+---------|
| Function Name                                          | Min             | Avg  | Median | Max  | # Calls |
|--------------------------------------------------------+-----------------+------+--------+------+---------|
| getRef                                                 | 2104            | 2360 | 2360   | 2617 | 2       |
╰--------------------------------------------------------+-----------------+------+--------+------+---------╯

╭---------------------------------------------------------------+-----------------+-------+--------+-------+---------╮
| src/protocol/CheckpointTracker.sol:CheckpointTracker Contract |                 |       |        |       |         |
+====================================================================================================================+
| Deployment Cost                                               | Deployment Size |       |        |       |         |
|---------------------------------------------------------------+-----------------+-------+--------+-------+---------|
| 909832                                                        | 4864            |       |        |       |         |
|---------------------------------------------------------------+-----------------+-------+--------+-------+---------|
|                                                               |                 |       |        |       |         |
|---------------------------------------------------------------+-----------------+-------+--------+-------+---------|
| Function Name                                                 | Min             | Avg   | Median | Max   | # Calls |
|---------------------------------------------------------------+-----------------+-------+--------+-------+---------|
| getProvenCheckpoint                                           | 919             | 2919  | 2919   | 4919  | 2       |
|---------------------------------------------------------------+-----------------+-------+--------+-------+---------|
| proveTransition                                               | 26232           | 39906 | 29859  | 73674 | 4       |
╰---------------------------------------------------------------+-----------------+-------+--------+-------+---------╯

╭-----------------------------------------------------------+-----------------+-------+--------+-------+---------╮
| src/protocol/PublicationFeed.sol:PublicationFeed Contract |                 |       |        |       |         |
+================================================================================================================+
| Deployment Cost                                           | Deployment Size |       |        |       |         |
|-----------------------------------------------------------+-----------------+-------+--------+-------+---------|
| 760671                                                    | 3227            |       |        |       |         |
|-----------------------------------------------------------+-----------------+-------+--------+-------+---------|
|                                                           |                 |       |        |       |         |
|-----------------------------------------------------------+-----------------+-------+--------+-------+---------|
| Function Name                                             | Min             | Avg   | Median | Max   | # Calls |
|-----------------------------------------------------------+-----------------+-------+--------+-------+---------|
| getPublicationHash                                        | 936             | 978   | 936    | 4936  | 142     |
|-----------------------------------------------------------+-----------------+-------+--------+-------+---------|
| publish                                                   | 58569           | 58569 | 58569  | 58569 | 171     |
|-----------------------------------------------------------+-----------------+-------+--------+-------+---------|
| validateHeader                                            | 4991            | 6398  | 6991   | 6991  | 27      |
╰-----------------------------------------------------------+-----------------+-------+--------+-------+---------╯

╭---------------------------------------------------------------------+-----------------+--------+--------+--------+---------╮
| src/protocol/taiko_alethia/ProverManager.sol:ProverManager Contract |                 |        |        |        |         |
+============================================================================================================================+
| Deployment Cost                                                     | Deployment Size |        |        |        |         |
|---------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| 2801247                                                             | 14657           |        |        |        |         |
|---------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
|                                                                     |                 |        |        |        |         |
|---------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| Function Name                                                       | Min             | Avg    | Median | Max    | # Calls |
|---------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| balances                                                            | 935             | 1195   | 935    | 2935   | 23      |
|---------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| bid                                                                 | 51994           | 117617 | 143195 | 143207 | 9       |
|---------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| claimProvingVacancy                                                 | 26424           | 113029 | 141407 | 142880 | 4       |
|---------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| currentPeriodId                                                     | 470             | 470    | 470    | 470    | 2       |
|---------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| deposit                                                             | 28107           | 44138  | 45207  | 45207  | 16      |
|---------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| evictProver                                                         | 35207           | 56358  | 39747  | 123240 | 5       |
|---------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| exit                                                                | 25949           | 67287  | 72322  | 72322  | 18      |
|---------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| finalizePastPeriod                                                  | 44282           | 50857  | 51297  | 56552  | 4       |
|---------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| getCurrentFees                                                      | 1162            | 4088   | 4088   | 7015   | 2       |
|---------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| getPeriod                                                           | 2458            | 6600   | 6458   | 14458  | 14      |
|---------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| payPublicationFee                                                   | 22331           | 53830  | 59556  | 59556  | 57      |
|---------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| prove                                                               | 42452           | 79409  | 86714  | 112080 | 10      |
|---------------------------------------------------------------------+-----------------+--------+--------+--------+---------|
| withdraw                                                            | 35453           | 35453  | 35453  | 35453  | 1       |
╰---------------------------------------------------------------------+-----------------+--------+--------+--------+---------╯

╭---------------------------------------------------------------------+-----------------+-------+--------+-------+---------╮
| test/mocks/MockCheckpointTracker.sol:MockCheckpointTracker Contract |                 |       |        |       |         |
+==========================================================================================================================+
| Deployment Cost                                                     | Deployment Size |       |        |       |         |
|---------------------------------------------------------------------+-----------------+-------+--------+-------+---------|
| 285271                                                              | 1128            |       |        |       |         |
|---------------------------------------------------------------------+-----------------+-------+--------+-------+---------|
|                                                                     |                 |       |        |       |         |
|---------------------------------------------------------------------+-----------------+-------+--------+-------+---------|
| Function Name                                                       | Min             | Avg   | Median | Max   | # Calls |
|---------------------------------------------------------------------+-----------------+-------+--------+-------+---------|
| getProvenCheckpoint                                                 | 4875            | 4875  | 4875   | 4875  | 6       |
|---------------------------------------------------------------------+-----------------+-------+--------+-------+---------|
| setProvenHash                                                       | 66857           | 66857 | 66857  | 66857 | 5       |
╰---------------------------------------------------------------------+-----------------+-------+--------+-------+---------╯

╭-----------------------------------------------------------------------------+-----------------+-----+--------+-----+---------╮
| test/mocks/MockDelayedInclusionStore.sol:MockDelayedInclusionStore Contract |                 |     |        |     |         |
+==============================================================================================================================+
| Deployment Cost                                                             | Deployment Size |     |        |     |         |
|-----------------------------------------------------------------------------+-----------------+-----+--------+-----+---------|
| 749012                                                                      | 3635            |     |        |     |         |
|-----------------------------------------------------------------------------+-----------------+-----+--------+-----+---------|
|                                                                             |                 |     |        |     |         |
|-----------------------------------------------------------------------------+-----------------+-----+--------+-----+---------|
| Function Name                                                               | Min             | Avg | Median | Max | # Calls |
|-----------------------------------------------------------------------------+-----------------+-----+--------+-----+---------|
| publishDelayed                                                              | 0               | 0   | 0      | 0   | 3       |
╰-----------------------------------------------------------------------------+-----------------+-----+--------+-----+---------╯


Ran 4 test suites in 292.72ms (610.79ms CPU time): 43 tests passed, 5 failed, 0 skipped (48 total tests)

Failing tests:
Encountered 2 failing tests in test/ProverManager.t.sol:ProverManagerTest
[FAIL: next call did not revert as expected] test_bid_RevertWhen_FeeNotLowEnough() (gas: 208293)
[FAIL: next call did not revert as expected] test_bid_RevertWhen_NotEnoughUndercutOnNextPeriod() (gas: 317169)

Encountered 2 failing tests in test/taiko_alethia/DelayedInclusionStore.t.sol:BaseStateTest
[FAIL: log != expected log] test_publishDelayed_OneInclusionOneBlob() (gas: 25874)
[FAIL: EvmError: Revert] test_publish_delayed_OneInclusionMultipleBlobs() (gas: 22490)

Encountered 1 failing test in test/taiko_alethia/DelayedInclusionStore.t.sol:StaggeredInclusionStateTest
[FAIL: EvmError: Revert] setUp() (gas: 0)

Encountered a total of 5 failing tests, 43 tests succeeded
